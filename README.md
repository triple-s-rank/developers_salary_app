# Статистика, собранная с HeadHunter и SuperJob, зарплат и вакансий по языкам программирования в Москве.
Скрипт ищет вакансии и зарплаты программистов по заданным языкам программирования, используя web-API [HeadHunter](https://hh.ru/) и [SuperJob](https://superjob.ru/). 


## Установка

### Окружение
Python3 должен быть предустановлен. Затем используйте pip для установки зависимостей:
```
pip install -r requirements.txt
```
### Переменные окружения

Создайте и заполните переменную окружения `.env` для необходимых настроек.
Пример `.env`:

```
SJ_API_KEY={SuberJob API-key}
```
## Скрипты
### get_hh_statistics.py и get_sj_statistics.py
Возвращает с сайтов [HeadHunter](https://hh.ru) и [SuperJob](https://superjob.ru) ,соответственно, общее количество вакансий по ключевым словам и среднюю зарплату по этой выборке. Также отрисовывавют в консоли таблицу с статистикой. Эти скрипты могут вызываться независимо для получения статистики по базе конкретного сайта. 
### main.py
Возвращает с сайтов [HeadHunter](https://hh.ru) и [SuperJob](https://superjob.ru) общую статистику.

### cli_tables
Скрипт для отрисовки таблицы в консоли. Вспомогательный скрипт.

### cli_parser
Скрипт для получения аргументов из консоли. Вспомогательный скрипт.

### salaries_calculations
Все математические вычисления для выполняются в этом скрипте. Вспомогательный скрипт



### Запуск
Дла запуска скрипта используйте команду, находясь в директории с нужным скриптом. Возможен вызов скриптов main.py, get_hh_statistics.py, get_sj_statistics.py.
Команды для скриптов идентичны. 

##### Пример запуска скрипта main.py:

Если вызвать скрипт без опциональных аргументов будет произведен поиск по языку Python, в Москве. Пример вызова:
```
python main.py 
```
Пример ответа на запуск скрипта без опциональных аргументов:
```
┌HeadHunter Analytics───┬──────────────────┬─────────────────────┬──────────────────┐
│ Язык программирования │ Вакансий найдено │ Вакансий обработано │ Средняя зарплата │
├───────────────────────┼──────────────────┼─────────────────────┼──────────────────┤
│ Python                │ 2209             │ 2000                │ 244105           │
└───────────────────────┴──────────────────┴─────────────────────┴──────────────────┘

```

В качестве опционального аргумента можно передать только один город и один или несколько языков программирования. Если запустить скрипт без опциональных аргументов будет осуществляться поиск по Москве по языку Python. Пример запуска скрипта с опциональными аргументом. :
```
python main.py -k Flutter,Rust,Dart -city Москва
```

Программа выведет в консоль статистику по вакансиям и зарплатам для указанных языков программирования для указанного города:
```
┌HeadHunter ────────────┬────────────────────────┬─────────────────────┬──────────────────┐
│ Язык программирования │ Всего вакансий найдено │ Вакансий обработано │ Средняя зарплата │
├───────────────────────┼────────────────────────┼─────────────────────┼──────────────────┤
│ Flutter               │ 108                    │ 108                 │ 254574           │
│ Rust                  │ 53                     │ 53                  │ 398700           │
│ Dart                  │ 57                     │ 57                  │ 266692           │
└───────────────────────┴────────────────────────┴─────────────────────┴──────────────────┘
┌SuperJob ──────────────┬────────────────────────┬─────────────────────┬──────────────────┐
│ Язык программирования │ Всего вакансий найдено │ Вакансий обработано │ Средняя зарплата │
├───────────────────────┼────────────────────────┼─────────────────────┼──────────────────┤
│ Flutter               │ 1                      │ 1                   │ 400000           │
│ Rust                  │ 1                      │ 1                   │ 204000           │
│ Dart                  │ 1                      │ 1                   │ 400000           │
└───────────────────────┴────────────────────────┴─────────────────────┴──────────────────┘
```

### Цель проекта

Код написан в образовательных целях в рамках курса [dvmn.org](https://dvmn.org/).
